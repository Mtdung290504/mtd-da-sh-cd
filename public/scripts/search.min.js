const liList=Array.from(document.querySelectorAll("ol li")).map((li=>{const[qst,asw]=["qst","asw"].map((cls=>li.querySelector("."+cls))),[normalizedQst,normalizedAsw]=[qst,asw].map((element=>normalize(element.textContent)));return{li:li,qst:qst,asw:asw,normalizedQst:normalizedQst,normalizedAsw:normalizedAsw}})),input=document.querySelector("input");function find(event){const value=normalize(event.target.value).trim();value.length<=0?liList.forEach((({li:li,qst:qst,asw:asw})=>{li.style.display="list-item",rHighlight(qst,asw)})):liList.forEach((({li:li,qst:qst,asw:asw,normalizedQst:normalizedQst,normalizedAsw:normalizedAsw})=>{if(normalizedQst.includes(value)||normalizedAsw.includes(value)){"list-item"!=li.style.display&&(li.style.display="list-item");const elementsToHighlight=[qst,asw];[normalizedQst,normalizedAsw].forEach(((textToSearch,index)=>{if(textToSearch.includes(value)){const start=textToSearch.indexOf(value),end=start+value.length;highlight(elementsToHighlight[index],elementsToHighlight[index].textContent.slice(start,end))}else rHighlight(elementsToHighlight[index])}))}else"none"!=li.style.display&&(li.style.display="none"),rHighlight(qst,asw)}))}function debounce(func,delay){let timeoutId;return function(){const context=this,args=arguments;clearTimeout(timeoutId),timeoutId=setTimeout((()=>{func.apply(context,args)}),delay)}}function normalize(text){return text.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function highlight(element,textToHighlight){rHighlight(element),element.innerHTML=element.innerHTML.replaceAll(textToHighlight,`<span class="highlight">${textToHighlight}</span>`)}function rHighlight(...elements){elements.forEach((ele=>{ele.innerHTML=ele.innerHTML.replaceAll('<span class="highlight">',"").replaceAll("</span>","")}))}input.addEventListener("input",debounce(find,200)),document.querySelector("button").addEventListener("click",(()=>{input.value="",input.dispatchEvent(new Event("input"))}));